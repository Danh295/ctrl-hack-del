# AniFriend ðŸ’•

A web-based dating simulator featuring an interactive Live2D character that converses using AI-generated dialogue (Gemini API) and realistic voice synthesis (ElevenLabs API) with real-time lip synchronization.

## Features

- **Interactive Character Model** - High-fidelity 2D characters running on the **Cubism SDK** math & physics engine, rendered via **PixiJS** (WebGL).
- **AI Conversation** - Context-aware roleplay dialogue powered by **Google's Gemini API**.
- **Realistic Voice Synthesis** - Dynamic Text-to-Speech (TTS) generated by **ElevenLabs**.
- **Real-Time Lip Sync** - Mouth movements synchronized to audio volume using the browser's Web Audio API.
- **Dynamic Expressions** - Emotional states (Happy, Angry, Shy) triggered automatically by AI sentiment analysis.
- ðŸŽ¨ **Modern UI** - Responsive chat interface built with Next.js and Tailwind CSS.

## How It Works

1. **User Input**: The user sends a text message via the chat interface.
2. **AI Processing (The Brain)**: The request is sent to the **Gemini API**, which generates a text reply and determines the character's emotional state (e.g., "Smile" or "Surprised").
3. **Voice Generation (The Voice)**: The AI's reply is sent to **ElevenLabs**, which returns a realistic audio stream.
4. **Audio Analysis**: The frontend plays the audio and uses the **Web Audio API** to analyze the volume (amplitude) in real-time.
5. **Physics Calculation**: The **Live2D Cubism SDK** calculates the new geometry of the face mesh based on the volume data (updating the `ParamMouthOpenY` parameter).
6. **Rendering**: **PixiJS** takes the updated mesh data and renders the warped texture to the HTML5 Canvas at 60 FPS.

## Browser Compatibility

- Chrome/Edge: âœ… Full support
- Firefox: âœ… Full support  
- Safari: âœ… Full support (requires user interaction to enable audio context)

## Credits

- **PixiJS** for WebGL rendering
- **Live2D Cubism SDK** for character physics and animation
- **Google Gemini** for AI conversation and sentiment analysis
- **ElevenLabs** for neural voice synthesis
- **Lucide React** for UI icons